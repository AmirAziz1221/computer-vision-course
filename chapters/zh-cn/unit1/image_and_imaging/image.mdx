# 图像

在计算机视觉课程中解释什么是图像，这或许有些看似多余。也许你正是为了深入了解图像和视频格式处理才来到这里的。这似乎是显而易见的，但事实往往出人意料！图像所蕴含的信息，远比肉眼所见更为丰富（英文双关梗）。

## 图像的定义

图像是对物体、场景、人物乃至概念的视觉呈现。 它们可以是照片、绘画、图纸、示意图、扫描图等多种形式。 更令人称奇的是，图像本质上也是一个函数，更准确地说，是一个n维函数。 我们首先考虑二维情形（\\(n=2\\)），将其表示为 \\(F(X,Y)\\)，其中 \\(X\\) 和 \\(Y\\) 代表空间坐标。 空间坐标仅仅是我们用来描述物体在物理空间中位置的系统，通常采用二维笛卡尔坐标系。 在坐标对 \\(x_i, y_i\\) 处，\\(F\\) 的幅度即为该点图像的强度或灰度级。 强度决定了我们对明暗的感知。 通常，当提到坐标对 \\(x_1\\) 和 \\(y_1\\) 时，我们称其为一个像素（图像元素）。

图像是离散的，而图像的生成过程是连续的。 图像生成过程将在后续章节中详细讨论。 目前需要强调的是，\\(F\\) 在特定坐标处的值具有实际的物理意义。 函数 \\(F(X,Y)\\) 的特征由两个要素决定：来自光源的照度以及场景中物体反射的照度。 强度图像的强度也存在约束，因为该函数通常是非负的，且其值是有限的。

创建图像的方式并非只有上述一种。 有些图像是由计算机在人工智能（AI）辅助或不辅助的情况下生成的。 我们会用专门的章节来介绍这些带有 AI 辅助的图像。 本文介绍的大部分术语仍然适用。

另一种图像类型是体积图像或三维图像。 三维图像中的维度数为 3，因此对应的函数为 \\(F(X,Y,Z)\\)。 此前的大部分推论仍然成立，唯一的区别是三元组 \\(x_i,y_i,z_i\\) 被称为体素（体积元素）。 这些图像可以通过三维方式获取，即以能够在三维空间中重建的方式获取。 此类图像的例子包括医学扫描、磁共振成像以及某些类型的显微镜成像。 也可以从二维图像重建三维图像，但重建是一项具有挑战性的任务，我们也将用专门的章节进行介绍。

在讨论完空间之后，接下来探讨颜色。 图像通道（image channels）这个概念你可能已经有所耳闻。 即使不完全了解其含义，也不必担心。 图像通道仅仅是构成图像的不同颜色分量。 参照 \\(F(X,Y)\\)，每个颜色分量都有其对应的 \\(F\\)，每种颜色都有其自身的强度级别。 对于代表红色分量的通道，高强度表示该颜色非常红，而低强度表示红色分量很少。

如果仅查看一种颜色的 \\(F(x,y)\\)，则其范围通常为 0 到 255，其中 0 表示无强度，而 255 表示最大强度。 在不同的颜色系统中，这些值的组合方式可能有所不同。 因此，了解数据的来源对于正确解释这些值至关重要。

还有一类特殊的图像，其中的坐标 \\(F(x_i,y_i)\\) 并不描述强度值，而是对像素进行标记。 最简单的例子是将图像中的前景和背景分离。 所有被判定为前景的像素标记为 1，而所有被判定为背景的像素标记为 0。 这些图像通常被称为标记图像（labeled images）。 当只有两个标签时（如本例），我们称它们为二值图像（binary images）或掩模（masks）。

您可能听说过四维甚至五维图像。 这个术语主要由生物医学领域和显微镜学家使用。 同样，不必担心！ 这种命名方式来源于对体积数据随时间进行成像，或使用不同通道或不同成像方式（如照片和 X 射线）的人。 核心思想是，每个新的信息来源都被视为一个额外的维度。 因此，五维图像是指在时间维度（四维）上，通过不同通道（五维）成像的体积图像（三维）。

那么，图像如何在计算机中表示呢？ 最常见的方式是通过矩阵。 将图像视为二维数值数组是一种简单有效的方法。 这种表示方式的优势在于计算机能够高效地处理数组。 将矩阵视为图像有助于理解卷积神经网络和图像预处理中的某些过程，我们将在后续章节中详细介绍。

此外，图像也可以表示为图，其中每个节点代表一个坐标，而边则代表相邻坐标。 请思考片刻。 这也意味着适用于图的算法和模型同样可以应用于图像！ 反之亦然，你可以将图转换为图像，并像分析图像一样对其进行分析。

到目前为止，我们已经提出了一个相当灵活的图像定义。 这一概念可以适应不同的视觉数据获取方式，但它们都强调了相同的关键方面：图像是包含大量空间信息的数据点集合。 主要区别在于空间分辨率（二维或三维）、颜色系统（RGB 或其他）以及是否包含时间分量。

## 图像与其他数据类型的比较

### 图像与视频的区别

如果您一直在关注，您可能已经意识到视频是附加了时间分量的图像的视觉呈现。 对于二维图像采集，您可以添加时间维度，从而使 \\(F(X,Y,T)\\) 成为成像函数。

图像自然地可以具有隐含的时间分量。 毕竟，它们是在特定的时间点拍摄的，并且不同的图像也可能在时间上相关。 然而，图像和视频在采样时间信息的方式上存在差异。 图像是单个时间点的静态表示，而视频是以特定速率播放的图像序列，从而产生运动的错觉。 该速率通常被称为每秒帧数（frames per second）。

鉴于其重要性，本课程将专门用一章来介绍视频，并探讨处理这一新增维度所需的调整。

### 图像与表格数据的区别

在表格数据中，维度通常由描述一个数据点的特征（列）数量定义。 在视觉数据中，维度通常指的是描述数据的维度数量。 对于二维图像，我们通常将数字 \\(x_i\\) 和 \\(y_i\\) 称为图像大小。

另一方面，描述视觉数据的特征的生成方式也有所不同。 它们可以通过传统的预处理生成，也可以通过深度学习方法学习得到。 这个过程被称为特征提取（feature extraction），我们将在“特征提取”章节中详细讨论。 这与表格数据的特征工程（feature engineering）形成对比，在特征工程中，新特征是在现有特征的基础上构建的。

表格数据通常需要处理缺失值、编码分类变量以及重新缩放数值特征。 图像数据的类似过程包括图像大小调整和强度值归一化。 这些过程统称为预处理（preprocessing），我们将在“计算机视觉预处理”一章中进行更详细的讨论。

### 主要区别

下表总结了不同数据类型的关键方面。

|   | 特征                      | 图像                                                          | 视频                                                              | 音频                                                                                                      | 表格数据                                                                                                                                                                    |
|---|---------------------------|---------------------------------------------------------------|-----------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 1 | 类型                      | 时间上的瞬时静态画面                                                | 随时间推移的图像序列                                                    | 时间上的瞬时声音记录                                                                                            | 以行和列组织的结构化数据                                                                                                                                                             |
| 2 | 数据表示                  | 通常是像素组成的二维数组                                                | 通常是帧组成的三维数组                                                     | 通常是音频样本组成的一维数组                                                                                       | 通常是由特征列和数据样本行构成的二维数组（例如电子表格、数据库表）                                                                                                                                                |
| 3 | 文件类型                  | JPEG、PNG、RAW 等                                                     | MP4、AVI、MOV 等                                                     | WAV、MP3、FLAC 等                                                                                        | CSV、Excel (.xlsx、.xls)、数据库格式等                                                                                                                                             |
| 4 | 数据增强                    | 翻转、旋转、裁剪                                                       | 时间抖动、速度变化、遮挡                                                       | 添加背景噪声、混响、频谱操作                                                                                  | ROSE、SMOTE、ADASYN                                                                                                                                                           |
| 5 | 特征提取                    | 边缘、纹理、颜色                                                       | 边缘、纹理、颜色、光流、轨迹                                                        | 频谱图、梅尔频率倒谱系数 (MFCC)、色度特征                                                                          | 统计分析、特征工程、数据聚合                                                                                                                                                             |
| 6 | 学习模型                    | CNN                                                             | RNN、3D CNN                                                           | CNN、RNN                                                                                                    | 线性回归、决策树、随机森林、梯度提升                                                                                                                                                  |
| 7 | 机器学习任务                | 图像分类、分割、目标检测                                                     | 视频动作识别、时间建模、跟踪                                                      | 语音识别、说话人识别、音乐流派分类                                                                                 | 回归、分类、聚类                                                                                                                                                                  |
| 8 | 计算成本                    | 成本较低                                                         | 成本较高                                                           | 中等到高                                                                                                  | 相比其他方法，通常成本较低                                                                                                                                                           |
| 9 | 应用                      | 用于安全访问控制的人脸识别                                                    | 用于实时通信的符号语言解释                                                      | 语音助手、语音转文本、音乐流派分类                                                                                 | 预测建模、欺诈检测、天气预报                                                                                                                                                            |
