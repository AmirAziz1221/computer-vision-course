# 数字图像采集基础

在数字图像处理中，图像采集是将物理世界中的景象转换为计算机可处理的数字形式的首要步骤。该过程始于照明源与成像对象之间的相互作用。照明方式多种多样，既可以是传统光源，也可以是更复杂的形式，如电磁或超声能量。这种互动会使能量从场景中的物体反射或透射出来。传感器捕获这些能量，并将一种形式的能量转换成另一种形式（换能器将入射能量转换为电压）。随后，电压信号被数字化，从而生成数字图像。为确保获得物理场景的精确表征，我们需要先进的技术和精准的校准。以下章节将探讨其中涉及的一些关键技术。

![1964年“游骑兵7号”拍摄的第一张月球照片（由NASA提供）](https://huggingface.co/datasets/hf-vision/course-assets/resolve/4def8c412ee6b08f4522e818a0474d155363d87b/pic_3.png)

## 传感器技术及其在图像采集中的作用

如前所述，传感器是数字成像的首要环节。为了生成二维图像，单个传感元件（例如光电二极管）会在 x 轴和 y 轴方向上移动。相比之下，更常见的线阵传感器以线性方式在一个方向上捕获图像。因此，为了获得完整的二维图像，这些线阵需要垂直移动。平板扫描仪等设备常采用此项技术，机载成像系统也应用了该技术。在更专业的应用中，如医学成像（例如，计算机辅助断层扫描，即 CAT 扫描），则会使用环形排列的传感器阵列。这些装置需要精密的重建算法，才能将捕获的数据转换为有意义的图像。

传感器阵列，例如数码相机中的电荷耦合器件 (CCD)，由二维排列的传感元件组成。由于每个元件都能检测到场景的一部分，因此无需移动即可捕获完整图像。与单个传感元件和线阵传感器不同，这些阵列的优势在于无需移动即可完成图像捕获。捕获的能量聚焦于传感器阵列上，转换为模拟信号，然后数字化以形成数字图像。

## 数字图像的形成与表示

数字图像形成的核心是函数 \\(f(x,y)\\)，它由照明源 \\(i(x,y)\\) 和场景的反射率 \\(r(x,y)\\) 共同决定。

<div class="flex justify-center">
    <img src="https://huggingface.co/datasets/hf-vision/course-assets/resolve/4def8c412ee6b08f4522e818a0474d155363d87b/pic_6.png" alt="通过收集场景中反射的光线进行图像采集">
</div>

在基于透射的成像中，例如 X 射线成像，透射率将取代反射率。数字图像本质上是一个数值矩阵或数组，每个数值对应一个像素。将连续图像数据转换为数字格式的过程包括以下两个步骤：

*   采样：将坐标值离散化。
*   量化：将幅度值转换为离散量。

数字图像的分辨率和质量在很大程度上取决于以下因素：

*   样本的数量和使用的离散强度级数。
*   成像系统的动态范围，即最大可测量强度与最小可检测强度之比。动态范围对图像的外观和对比度起着至关重要的作用。

<div class="flex justify-center">
    <img src="https://huggingface.co/datasets/hf-vision/course-assets/resolve/4def8c412ee6b08f4522e818a0474d155363d87b/pic_5.png" alt="罗素·A·基尔施于1957年拍摄的第一张数字照片">
</div>

## 理解数字成像中的分辨率

空间分辨率是指图像中可区分的最小细节，通常以每单位距离的线对数或每单位距离的像素数来衡量。空间分辨率的意义取决于具体应用场景，并随所使用的空间单位而变化。例如，2000 万像素的相机通常比 800 万像素的相机提供更高的细节分辨率。

强度分辨率与强度级别中可检测到的最小变化有关，通常受到硬件性能的限制。它以二进制增量量化，例如 8 位或 256 级。对这些强度变化的感知受到多种因素的影响，包括噪声、饱和度以及人类视觉能力。

<div class="flex justify-center">
    <img src="https://huggingface.co/datasets/hf-vision/course-assets/resolve/4def8c412ee6b08f4522e818a0474d155363d87b/pic_7.png" alt="图像分辨率的图示">
</div>

## 图像复原与重建技术

图像复原侧重于利用关于退化现象的先验知识来恢复已退化的图像。该过程通常涉及对退化过程进行建模，并应用逆过程来恢复原始图像。

<div class="flex justify-center">
    <img src="https://huggingface.co/datasets/hf-vision/course-assets/resolve/4def8c412ee6b08f4522e818a0474d155363d87b/pic_8.jpg" alt="图像复原的示例，其中图像已复原并着色">
</div>

相比之下，图像增强更具主观性。它的目的是改善图像的视觉效果。复原技术包括处理噪声等问题，噪声可能源于图像采集或传输过程中的各种来源。在这种情况下，自适应和非自适应高级滤波器因其卓越的降噪性能而被广泛采用。在医学成像领域，尤其是在计算机断层扫描 (CT) 中，从投影数据重建图像是一项至关重要的应用。

![路易·达盖尔于 1838 年在巴黎圣殿大道拍摄的第一张人物照片](https://huggingface.co/datasets/hf-vision/course-assets/resolve/4def8c412ee6b08f4522e818a0474d155363d87b/pic_2.png)

## 图像处理中的色彩

颜色是图像处理中一种强大的描述符，在目标识别中起着至关重要的作用。彩色图像处理包括伪彩色处理和全彩色处理。

<div class="flex justify-center">
    <img src="https://huggingface.co/datasets/hf-vision/course-assets/resolve/4def8c412ee6b08f4522e818a0474d155363d87b/pic_4.png" alt="詹姆斯·克拉克·麦克斯韦于 1861 年使用 3 种滤色镜拍摄的第一张彩色照片">
</div>

伪彩色处理将颜色分配给灰度强度，而全彩色处理则利用来自传感器的真实颜色数据。理解颜色的基本原理至关重要，这包括人类的色彩感知、色谱以及彩色光的属性。颜色的基本原理包括人类视觉的三色性，即感知红色、绿色和蓝色。另一方面，色彩感知是指我们眼睛中的三种视锥细胞如何受到刺激。最后，色谱是电磁波谱中引起不同视觉感觉的波长范围。

不同的颜色模型，如用于监视器和相机的 RGB 模型，以及用于打印的 CMY/CMYK 模型，对数字成像中的颜色表示进行标准化。在 RGB 颜色模型中，图像有三个分量（即通道），每个分量分别代表红色、绿色和蓝色。RGB 图像中的像素深度决定了可能的颜色数量，典型的全彩色图像具有 24 位深度（每个颜色分量 8 位），可呈现超过 1600 万种颜色！RGB 颜色立方体表示该模型中可实现的颜色范围，其中灰度值从黑色延伸到白色。

<div class="flex justify-center">
    <img src="https://huggingface.co/datasets/hf-vision/course-assets/resolve/4def8c412ee6b08f4522e818a0474d155363d87b/pic_9.png" alt="图 9：图像的颜色通道">
</div>

## 图像压缩

数据压缩旨在减少表示信息所需的数据量。它区分了数据（传递信息的手段）和信息本身，其目标是消除冗余，即不相关或重复的数据。例如，10:1 的压缩比表示 90% 的数据冗余。

在数字图像压缩中，特别是对于二维强度阵列，主要有三种类型的冗余：

*   **编码冗余：** 编码冗余在图像中普遍存在，尤其是在那些强度值分布不均匀的图像中，这在非均匀直方图中有所体现。在这样的图像中，某些强度值比其他强度值出现的频率更高，但自然二进制编码为每个强度值分配相同数量的位来进行表示，而不管其频率如何。这意味着常用值并不会比稀有值更有效地编码，从而导致位利用率低下，进而产生编码冗余。理想情况下，应为更频繁的值分配更短的代码，而不频繁的值分配更长的代码，以最大程度地减少使用的位数，但这在使用非均匀直方图的自然二进制编码中无法实现。
*   **空间和时间冗余：** 空间和时间冗余体现在图像内部或视频帧之间相关的像素值中。
*   **不相关信息：** 不相关信息包括人眼视觉系统忽略的数据或图像用途不需要的数据。

高效编码会考虑事件发生的概率，例如图像中的强度值。行程编码等技术可以减少具有恒定强度线的图像中的空间冗余，从而显著压缩数据。同样，也可以解决视频序列中的时间冗余问题。但是，删除不相关的信息会导致量化，这是一种不可逆转的定量信息损失。信息论以及诸如熵之类的概念，有助于确定准确图像表示所需的最小数据量。压缩后的图像质量可以使用客观保真度标准（输入和输出的数学函数）和主观保真度标准（人类评估）进行评估。

图像压缩系统采用编码器和解码器。编码器通过映射（以减少空间/时间冗余）、量化（以丢弃不相关的信息）和符号编码（将代码分配给量化器输出）来消除冗余。解码器则反转这些过程，量化除外。图像文件格式、容器和标准（如 JPEG 和 MPEG）用于数据组织和存储。霍夫曼编码是一种用于消除编码冗余的著名方法，它通过优先对最不可能出现的源符号进行编码来创建高效的表示形式。
